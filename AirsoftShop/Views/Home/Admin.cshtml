@model List<Product>

<head>
    <meta charset="UTF-8">
    <title>Админ-панель</title>
    <style>
        .product-image {
            max-width: 100px;
            max-height: 100px;
            display: block;
            cursor: pointer;
        }

        table {
            border-collapse: collapse;
            width: 100%;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }

        .btn {
            padding: 5px 10px;
            margin: 2px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
        }

        .btn-edit {
            background-color: #4CAF50;
            color: white;
            border: none;
        }

        .btn-delete {
            background-color: #f44336;
            color: white;
            border: none;
        }

        .btn-add {
            background-color: #2196F3;
            color: white;
            padding: 10px 15px;
            border: none;
            margin-bottom: 20px;
            display: inline-block;
        }

        .product-name {
            cursor: pointer;
            color: #2196F3;
            text-decoration: underline;
        }

        .action-buttons {
            white-space: nowrap;
        }

        .welcome-message {
            font-size: 24px;
            color: #666;
            text-align: center;
            margin-top: 100px;
        }
    </style>
</head>
<body>
    <div style="display: flex;">
        <!-- Левое меню -->
        <div style="width: 250px; background: #f0f0f0; padding: 20px; height: auto;">
            <h3>Меню администратора</h3>
            <ul style="list-style: none; padding: 0;">
                <li style="margin-bottom: 10px;"><a href="#orders">Заказы</a></li>
                <li style="margin-bottom: 10px;"><a href="#users">Пользователи</a></li>
                <li style="margin-bottom: 10px;"><a href="#roles">Роли</a></li>
                <li style="margin-bottom: 10px;"><a href="#products">Товары</a></li>
            </ul>
        </div>

        <!-- Основной контент -->
        <div style="flex: 1; padding: 20px; position: relative;">
            <!-- Приветственное сообщение (по умолчанию) -->
            <div id="welcome" class="welcome-message">
                <p>Добро пожаловать в панель администратора</p>
                <p>Выберите раздел в меню слева</p>
            </div>

            <!-- Секция товаров (изначально скрыта) -->
            <div id="products" style="display: none;">
                <h2>Список товаров</h2>
                <a href="#add-product" class="btn btn-add">Добавить новый товар</a>
                <table>
                    <tr>
                        <th>Изображение</th>
                        <th>ID</th>
                        <th>Название</th>
                        <th>Цена</th>
                        <th>Описание</th>
                        <th>Действия</th>
                    </tr>
                    @foreach (var product in Model)
                    {
                        <tr>
                            <td>
                                <a href="/product/index/@product.Id">
                                    @if (!string.IsNullOrEmpty(product.ImageUrl))
                                    {
                                        <img src="@product.ImageUrl" class="product-image" alt="@product.Name" />
                                    }
                                    else
                                    {
                                        <span>Нет изображения</span>
                                    }
                                </a>
                            </td>
                            <td>@product.Id</td>
                            <td><a href="/product/index/@product.Id" class="product-name">@product.Name</a></td>
                            <td>@product.Cost.ToString("N2")</td>
                            <td>@product.Descriprion</td>
                            <td class="action-buttons">
                                <a href="/Admin/EditProduct/@product.Id" class="btn btn-edit">Редактировать</a>
                                <a href="/Admin/DeleteProduct/@product.Id" class="btn btn-delete">Удалить</a>
                            </td>
                        </tr>
                    }
                </table>

                <!-- Форма добавления товара -->
                <div id="add-product" style="margin-top: 30px; display: none;">
                    <h3>Добавить новый товар</h3>
                    <form method="post" action="/Admin/AddProduct">
                        <div style="margin-bottom: 10px;">
                            <label>Название:</label>
                            <input type="text" name="Name" required style="width: 300px; padding: 5px;">
                        </div>
                        <div style="margin-bottom: 10px;">
                            <label>Цена:</label>
                            <input type="number" step="0.01" name="Cost" required style="width: 100px; padding: 5px;">
                        </div>
                        <div style="margin-bottom: 10px;">
                            <label>Описание:</label>
                            <textarea name="Description" style="width: 100%; padding: 5px; height: 100px;"></textarea>
                        </div>
                        <div style="margin-bottom: 10px;">
                            <label>Изображение (URL):</label>
                            <input type="text" name="ImageUrl" style="width: 100%; padding: 5px;">
                        </div>
                        <button type="submit" class="btn btn-add">Сохранить</button>
                        <a href="#products" class="btn" style="background-color: #ccc; color: black;">Отмена</a>
                    </form>
                </div>
            </div>

            <!-- Другие секции -->
            <div id="orders" style="display: none;">
                <h2>Заказы</h2>
                <p>Список заказов будет здесь</p>
            </div>

            <div id="users" style="display: none;">
                <h2>Пользователи</h2>
                <p>Список пользователей будет здесь</p>
            </div>

            <div id="roles" style="display: none;">
                <h2>Роли</h2>
                <p>Список ролей будет здесь</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Скрываем все секции и показываем приветствие
            hideAllSections();
            document.getElementById('welcome').style.display = 'block';

            // Обработчики для меню
            document.querySelector('a[href="#orders"]').onclick = function(e) {
                e.preventDefault();
                hideAllSections();
                document.getElementById('orders').style.display = 'block';
            };

            document.querySelector('a[href="#users"]').onclick = function(e) {
                e.preventDefault();
                hideAllSections();
                document.getElementById('users').style.display = 'block';
            };

            document.querySelector('a[href="#roles"]').onclick = function(e) {
                e.preventDefault();
                hideAllSections();
                document.getElementById('roles').style.display = 'block';
            };

            document.querySelector('a[href="#products"]').onclick = function(e) {
                e.preventDefault();
                hideAllSections();
                document.getElementById('products').style.display = 'block';
            };

            // Обработчик для кнопки добавления товара
            document.querySelector('a[href="#add-product"]').onclick = function(e) {
                e.preventDefault();
                document.getElementById('add-product').style.display = 'block';
            };

            // Обработчик hash при загрузке страницы
            if (window.location.hash) {
                const sectionId = window.location.hash.substring(1);
                if (sectionId && document.getElementById(sectionId)) {
                    hideAllSections();
                    document.getElementById(sectionId).style.display = 'block';
                }
            }
        });

        function hideAllSections() {
            document.getElementById('welcome').style.display = 'none';
            document.getElementById('orders').style.display = 'none';
            document.getElementById('users').style.display = 'none';
            document.getElementById('roles').style.display = 'none';
            document.getElementById('products').style.display = 'none';
            document.getElementById('add-product').style.display = 'none';
        }
    </script>
</body>